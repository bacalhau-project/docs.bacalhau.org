"use strict";(self.webpackChunkbacalhau_docs=self.webpackChunkbacalhau_docs||[]).push([[4772],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>h});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var c=n.createContext({}),p=function(e){var t=n.useContext(c),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},u=function(e){var t=p(e.components);return n.createElement(c.Provider,{value:t},e.children)},s="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,c=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),s=p(a),m=r,h=s["".concat(c,".").concat(m)]||s[m]||d[m]||l;return a?n.createElement(h,o(o({ref:t},u),{},{components:a})):n.createElement(h,o({ref:t},u))}));function h(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,o=new Array(l);o[0]=m;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i[s]="string"==typeof e?e:r,o[1]=i;for(var p=2;p<l;p++)o[p]=a[p];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},7917:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>d,frontMatter:()=>l,metadata:()=>i,toc:()=>p});var n=a(7462),r=(a(7294),a(3905));const l={sidebar_label:"Update Checking",sidebar_position:6},o="Automatic Update Checking",i={unversionedId:"next-steps/update-checks",id:"next-steps/update-checks",title:"Automatic Update Checking",description:"Bacalhau has an update checking service to automatically detect whether a newer version of the software is available.",source:"@site/docs/next-steps/update-checks.md",sourceDirName:"next-steps",slug:"/next-steps/update-checks",permalink:"/next-steps/update-checks",draft:!1,editUrl:"https://github.com/bacalhau-project/docs.bacalhau.org/blob/main/docs/next-steps/update-checks.md",tags:[],version:"current",lastUpdatedAt:1698074737,formattedLastUpdatedAt:"Oct 23, 2023",sidebarPosition:6,frontMatter:{sidebar_label:"Update Checking",sidebar_position:6},sidebar:"documentationSidebar",previous:{title:"Private Cluster",permalink:"/next-steps/private-cluster"},next:{title:"Running a Node",permalink:"/running-node"}},c={},p=[{value:"For clients",id:"for-clients",level:2},{value:"For node operators",id:"for-node-operators",level:2},{value:"Configuring checks",id:"configuring-checks",level:2}],u={toc:p},s="wrapper";function d(e){let{components:t,...a}=e;return(0,r.kt)(s,(0,n.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"automatic-update-checking"},"Automatic Update Checking"),(0,r.kt)("p",null,"Bacalhau has an update checking service to automatically detect whether a newer version of the software is available."),(0,r.kt)("p",null,"Users who are both running CLI commands and operating nodes will be regularly informed that a new release can be downloaded and installed."),(0,r.kt)("p",null,"By default, an update check will run no more than once every 24 hours. Users can opt out of automatic update checks using the configuration described below."),(0,r.kt)("h2",{id:"for-clients"},"For clients"),(0,r.kt)("p",null,"Bacalhau will run an update check regularly when client commands are executed. If an update is available, explanatory text will be printed at the end of the command."),(0,r.kt)("p",null,"To force a manual update check, run the ",(0,r.kt)("inlineCode",{parentName:"p"},"bacalhau version")," command which will explicitly list the latest software release alongside the server and client versions."),(0,r.kt)("h2",{id:"for-node-operators"},"For node operators"),(0,r.kt)("p",null,"Bacalhau will run an update check regularly as part of the normal operation of the node."),(0,r.kt)("p",null,"If an update is available, an INFO level message will be printed to the log."),(0,r.kt)("h2",{id:"configuring-checks"},"Configuring checks"),(0,r.kt)("p",null,"Bacalhau has some configuration options for controlling how often checks are performed:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Config property"),(0,r.kt)("th",{parentName:"tr",align:null},"Environment variable"),(0,r.kt)("th",{parentName:"tr",align:null},"Default value"),(0,r.kt)("th",{parentName:"tr",align:null},"Meaning"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Update.SkipChecks"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"BACALHAU_UPDATE_SKIPCHECKS")),(0,r.kt)("td",{parentName:"tr",align:null},"False"),(0,r.kt)("td",{parentName:"tr",align:null},"If true, no update checks will be performed. As an environment variable, set to ",(0,r.kt)("inlineCode",{parentName:"td"},'"1"'),", ",(0,r.kt)("inlineCode",{parentName:"td"},'"t"')," or ",(0,r.kt)("inlineCode",{parentName:"td"},'"true"'),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Update.CheckFrequency"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"BACALHAU_UPDATE_CHECKFREQUENCY")),(0,r.kt)("td",{parentName:"tr",align:null},"24 hours"),(0,r.kt)("td",{parentName:"tr",align:null},"The minimum amount of time between automated update checks. Set as any duration of hours, minutes or seconds, e.g. ",(0,r.kt)("inlineCode",{parentName:"td"},"24h")," or ",(0,r.kt)("inlineCode",{parentName:"td"},"10m"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Update.CheckStatePath"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"BACALHAU_UPDATE_CHECKSTATEPATH")),(0,r.kt)("td",{parentName:"tr",align:null},"$BACALHAU_DIR/update.json"),(0,r.kt)("td",{parentName:"tr",align:null},"An absolute path where Bacalhau should store the date and time of the last check.")))))}d.isMDXComponent=!0}}]);